# 기능 정의서

---

### 예외에 대한 공통 규격

- [x]  모든 예외 상황은 `[ERROR]`로 시작해야 한다
    - [x]  예외는 IllegalArgumetException을 통해서 발생한다
    - [x]  에러 메시지를 출력하고, 다시 입력을 받아야 한다

### 기본 주문 시나리오

- [x]  고객에게 식당 방문 날짜를 묻는 메시지를 출력한다
- [x]  고객으로부터 식당 방문 날짜를 입력 받는다
    - [x]  **[검증]** 날짜 값이 1~31의 숫자가 아니라면, "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."라는 에러 메세지를 출력한다
- [x]  고객으로부터 주문할 메뉴를 입력해돌라는 메시지를 출력한다
- [x]  고객으로부터 [주문할 메뉴](https://github.com/sseung416/kotlin-christmas-6-sseung416/tree/main/docs#메뉴-종류)를 입력 받는다
    - [x]  예외가 발생했을 때, "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."라는 에러 메시지를 출력한다
    - [x]  **[검증]** 메뉴판에 존재하는 메뉴를 입력해야 한다
    - [x]  **[검증]** 메뉴의 개수는 1개 이상의 숫자만 입력가능하다
    - [x]  **[검증]** 메뉴는 한 번에 20개까지만 주문가능하다
    - [x]  **[검증]** 메뉴 주문 형식은 ‘`해산물파스타-2,레드와인-1,초코케이크-1`'와 같다
    - [x]  **[검증]** 메뉴는 중복될 수 없다 (e.g `레드와인-1,레드와인-1`)
    - [x]  **[검증]** 음료만 주문할 수 없다

### 주문 결과 안내 시나리오

- **공통 규격**
- [x]  고객에게 적용된 이벤트만 안내한다
  - [x]  적용된 이벤트가 없다면 “없음”을 출력한다
- [x]  여러 개의 해택이 적용되었을 경우, 출력 순서는 마음대로 정의한다
- **손님께 안내 하기 전**
- [x]  할인 전 총주문 금액을 계산한다
- [x]  증정되는 메뉴가 있는지 확인한다
- [x]  총혜택 금액을 계산한다 (총혜택 금액 = 금액의 합계 + 증정 메뉴의 가격)
- [x]  할인 후 예상 금액을 계산한다 (할인 후 예상 결제 금액 = 할인 전 총주문 금액 - 할인 금액)
- [x]  해당되는 12월 [이벤트 배지](https://github.com/sseung416/kotlin-christmas-6-sseung416/tree/main/docs#이벤트-배지)가 있는지 확인한다
- **안내 시나리오**
- [x]  주문 메뉴를 손님에게 안내한다 (메뉴 출력 순서는 마음대로)
- [x]  할인 전 총주문 금액을 손님에게 안내한다
- [x]  증정 메뉴를 손님에게 안내한다
- [x]  총혜택 금액을 손님에게 안내한다
- [x]  할인 후 예상 결제 금액을 손님에게 안내한다
- [x]  12월 이벤트 배지 내용을 손님에게 안내한다

### 메뉴 종류

- [x]  에피타이저
    - [x]  양송이수프(6,000)
    - [x]  타파스(5,500)
    - [x]  시저샐러드(8,000)
- [x]  메인
    - [x]  티본스테이크(55,000)
    - [x]  바비큐립(54,000)
    - [x]  해산물파스타(35,000)
    - [x]  크리스마스파스타(25,000)
- [x]  디저트
    - [x]  초코케이크(15,000)
    - [x]  아이스크림(5,000)
- [x]  음료
    - [x]  제로콜라(3,000)
    - [x]  레드와인(60,000)
    - [x]  샴페인(25,000)

### 이벤트 계획 (할인)

- [x]  **[검증]** 총주문 금액 10,000원 이상부터 이벤트가 적용된다
- **크리스마스 디데이 할인 (1일~25일)**
- [x]  기본 할인 금액 1,000원으로, 크리스마스(25일)에 다가올 수록 100원씩 할인 금액이 증가한다
    - [x]  총 주문 금액에서 해당 금액만큼 할인한다
- **공통 할인 (1일~31일)**
- [x]  평일 할인(일~목): 평일에 디저트 메뉴를 메뉴 1개당 2,023원을 할인해준다
- [x]  주말 할인(금~토): 주말에 메인 메뉴를 메뉴 1개당 2,023원을 할인해준다
- [x]  특별 할인: 이벤트 달력에 별이 있으면(3일, 10일, 17일, 24일, 25일, 31일), 총 주문 금액에서 1,000원 할인한다
- [x]  증정 이벤트: 할인 전 총주문 금액이 12만 원 이상일 때, 샴페인 1개를 증정한다

### 이벤트 배지

- **혜택 금액**에 따라 구매 시 이벤트 배지가 증정된다
- [x]  5천 원 이상 1만 원 미만: 별
- [x]  1만 원 이상 2만 원 미만: 트리
- [x]  2만 원 이상: 산타